(this["webpackJsonpfactory-four-status-page"]=this["webpackJsonpfactory-four-status-page"]||[]).push([[0],{267:function(e,t,n){},269:function(e,t,n){"use strict";n.r(t);var a,s,r=n(0),c=n.n(r),o=n(33),i=n.n(o),u=n(58),l=n(63),d={},b=Object(l.b)({name:"feedback",initialState:d,reducers:{setSuccessMessage:function(e,t){e.message=t.payload,e.messageType="success"},setErrorMessage:function(e,t){e.message=t.payload,e.messageType="error"},reset:function(){return d}}}),f=b.actions,j=(f.setErrorMessage,f.setSuccessMessage,f.reset),h=b.reducer,p={isOpen:!1},m=Object(l.b)({name:"loader",initialState:p,reducers:{openLoadingModal:function(e){e.isOpen=!0},closeLoadingModal:function(e){e.isOpen=!1},reset:function(){return p}}}),O=m.actions,g=O.closeLoadingModal,v=O.openLoadingModal,x=m.reducer,y={success:!1,message:"UNKOWN",hostname:"UNKOWN",time:0,version:"UNKOWN"},w={accounts:y,assets:y,customers:y,datapoints:y,devices:y,documents:y,forms:y,invites:y,media:y,messages:y,namespaces:y,orders:y,patients:y,relationships:y,rules:y,templates:y,users:y,workflows:y},k=Object(l.b)({name:"healthStatus",initialState:w,reducers:{addStatus:function(e,t){e[t.payload.APIName]=t.payload.status},reset:function(){return w}}}),S=k.actions.addStatus,N={feedback:h,loader:x,healthStatus:k.reducer},E=Object(l.a)({reducer:N}),I=n(68),M=n(69),T=n(153),W=n(50),C=Object(M.a)(T.a)(a||(a=Object(I.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: 2000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  animation: loading-modal-background 0.25s ease-in forwards;\n\n  @keyframes loading-modal-background {\n    0% {\n      background: transparent;\n    }\n    100% {\n      background: rgba(0, 0, 0, 0.5);\n    }\n  }\n"]))),L=Object(M.a)(W.a)(s||(s=Object(I.a)(["\n  font-size: 44px;\n"]))),R=n(20),U=function(){return Object(u.c)((function(e){return e.loader})).isOpen?Object(R.jsx)(C,{indicator:Object(R.jsx)(L,{spin:!0})}):Object(R.jsx)(R.Fragment,{})},A=n(158),K=n(28),P={healthStatus:{name:"Health Status",route:"/healthStatus"}},D=n(5),z=n(272),q=n(271),B=n(60),H=n(35),J=n.n(H),F=n(1),$=n(154),G=n.n($),Q=new(n(161).a),V=G.a.create({baseURL:"https://api.factoryfour.com/",headers:{"Content-Type":"application/json"}});V.interceptors.request.use((function(e){var t=Object(F.a)({},e),n=Q.get("token");return t.headers.Authorization=n?"bearer ".concat(n):"",navigator.userAgent.indexOf("Trident/")>-1&&"get"===t.method&&(t.params={timestamp:(new Date).getTime()}),t}));var X,Y,Z=V,_=function(e){return Z.get("".concat(e,"/health/status"))},ee=function(e){return function(){var t=Object(B.a)(J.a.mark((function t(n,a){var s,r,c;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a(),(r=s.loader.isOpen)||n(v()),t.prev=3,t.next=6,_(e);case 6:c=t.sent,n(S({APIName:e,status:c.data})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n(S({APIName:e,status:{success:!1,message:"NETWORK ERROR",hostname:"UNKNOWN",time:0,version:"UNKNOWN"}}));case 13:return t.prev=13,r&&n(g()),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[3,10,13,16]])})));return function(e,n){return t.apply(this,arguments)}}()},te=["accounts","assets","customers","datapoints","devices","documents","forms","invites","media","messages","namespaces","orders","patients","relationships","rules","templates","users","workflows"],ne=function(){return function(e){te.forEach((function(t){e(ee(t))}))}},ae=u.c,se=M.a.div(X||(X=Object(I.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  height: 100vh;\n\n  .ant-card {\n    height: 80vh;\n    width: 70vw;\n    overflow-y: scroll;\n  }\n\n  .ant-card-body {\n    padding: 0;\n  }\n"]))),re=M.a.div(Y||(Y=Object(I.a)(["\n  div.ant-table-wrapper\n    div.ant-spin-nested-loading\n    div.ant-spin-container\n    div.ant-table\n    div.ant-table-container\n    div.ant-table-content\n    table\n    tbody.ant-table-tbody\n    tr.ant-table-row.ant-table-row-level-0.error {\n    background-color: #e9967a59;\n  }\n"]))),ce=function(){var e=Object(u.b)(),t=ae((function(e){return e.healthStatus})),n=function(){var e=Object(r.useState)([]),t=Object(D.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){a([{key:"success",dataIndex:"success",align:"center",title:"Success",render:function(e){return e?"\u2705":"\u274c"}},{key:"message",dataIndex:"message",align:"center",title:"Message"},{key:"hostname",dataIndex:"hostname",align:"center",title:"HostName"},{key:"time",dataIndex:"time",align:"center",title:"Time",render:function(e){return e?new Date(e).toLocaleString():(new Date).toLocaleString()}},{key:"version0",dataIndex:"version",align:"center",title:"version"}])}),[]),n}(),a=Object(r.useState)([]),s=Object(D.a)(a,2),c=s[0],o=s[1];return Object(r.useEffect)((function(){var e=Object.values(t);o(e)}),[t]),function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e})),Object(r.useEffect)((function(){var e=setInterval((function(){n.current&&n.current()}),1e3*t);return function(){return clearInterval(e)}}),[t])}((function(){e(ne())}),Number(15)),Object(r.useEffect)((function(){e(ne())}),[e]),Object(R.jsx)(se,{children:Object(R.jsx)(z.a,{title:"API Services Status",bordered:!1,children:Object(R.jsx)(re,{children:Object(R.jsx)(q.a,{"aria-labelledby":"app-section-label","aria-label":"enhanced table",columns:n,dataSource:c,pagination:!1,showSorterTooltip:!1,onRow:function(e){return{className:e.success?"success":"error"}}})})})})},oe=function(){return Object(R.jsx)(A.a,{children:Object(R.jsxs)(K.d,{children:[Object(R.jsx)(K.b,{exact:!0,path:P.healthStatus.route,children:Object(R.jsx)(ce,{})}),Object(R.jsx)(K.a,{to:P.healthStatus.route})]})})},ie=n(162),ue=n(273),le=function(e){return Object(R.jsx)(ue.a,Object(F.a)({showIcon:!0,closable:!0},e))},de={padding:0,overflow:"visible",width:"auto"},be={margin:0,paddingLeft:20},fe=function(){var e=ae((function(e){return e.feedback})),t=e.message,n=e.messageType,a=Object(u.b)(),s=Object(r.useCallback)((function(){return a(j())}),[a]);return Object(r.useEffect)((function(){t&&n&&ie.a.open({message:"",description:Object(R.jsx)(le,{type:n,message:t instanceof Array?Object(R.jsx)("ul",{style:be,children:t.map((function(e){return Object(R.jsx)("li",{children:e.toUpperCase()})}))}):t.toUpperCase(),onClose:s}),placement:"bottomRight",style:de,onClose:s,closeIcon:Object(R.jsx)("div",{})})}),[s,t,n]),Object(R.jsx)("div",{})},je=n(12),he=n(13),pe=n(15),me=n(16),Oe=function(e){Object(pe.a)(n,e);var t=Object(me.a)(n);function n(e){var a;return Object(je.a)(this,n),(a=t.call(this,e)).state={hasError:!1},a}return Object(he.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log({error:e,errorInfo:t}),this.setState({hasError:!0})}},{key:"render",value:function(){var e=this.state.hasError,t=this.props.children;return e?Object(R.jsx)("h2",{children:"We could not process your request successfully. Please, refresh the page and try again"}):t}}]),n}(r.Component),ge=(n(266),function(){return Object(R.jsx)(Oe,{children:Object(R.jsxs)(u.a,{store:E,children:[Object(R.jsx)(oe,{}),Object(R.jsx)(fe,{}),Object(R.jsx)(U,{})]})})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(267),n(268);i.a.render(Object(R.jsx)(c.a.StrictMode,{children:Object(R.jsx)(ge,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[269,1,2]]]);
//# sourceMappingURL=main.caf2e3b0.chunk.js.map